---
title: "discordbotã«gpt-3.5-turboã‚’çµ„ã¿è¾¼ã‚“ã "
emoji: "ğŸ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Python", "Discord", "ChatGPT"]
published: true
---

## ç›®çš„

-   gpt-3.5-turbo ã§ä¼šè©±ã®æµã‚Œã‚’è€ƒæ…®ã—ãŸå¯¾è©±ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã£ã½ã„ã®ã§ã€discordbot ã«çµ„ã¿è¾¼ã‚€æ–¹æ³•ã‚’è€ƒãˆãŸ

## æƒ³å®š

-   å‹•ä½œã™ã‚‹ discord.py ã® bot ãŒã‚ã‚‹

## ã¤ãã£ãŸã‚‚ã®

https://twitter.com/satory074/status/1631300256099909634

## ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰

https://github.com/satory074/discordbot_chatgpt_sample

---

# ç°¡æ˜“è§£èª¬

## discord.py ã«ã‚ˆã‚‹ bot ä½œæˆ

discord.py ã«ã‚ˆã‚‹ bot ã®ä½œæˆæ–¹æ³•ã¯ä»¥ä¸‹ãŒå‚è€ƒã«ãªã‚Šã¾ã™ã€‚

å¤ã‚ã®è¨˜äº‹ãªã®ã§ã€bot ã®æ¨©é™å‘¨ã‚Šã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã¨æ€ã„ã¾ã™ãŒã€
ã“ã®è¨˜äº‹ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¨åˆã‚ã›ã¦è¦‹ã¦é ‚ã‘ã‚Œã°å‹•ãã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

https://qiita.com/1ntegrale9/items/9d570ef8175cf178468f

## ä¼šè©±å±¥æ­´ã®ä½œæˆ

ã“ã®è¨˜äº‹ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`chatgpt`é–¢æ•°ã§è¿”ç­”å–å¾—ã®ãŸã‚ã®ä¼šè©±å±¥æ­´ã®ä½œæˆã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚

ã€Œ@ã€ã§ä¼šè©±ã‚’é–‹å§‹ã—ã¦ä»¥é™ã®ä¼šè©±ã¯ã‚¹ãƒ¬ãƒƒãƒ‰å†…ã§è¡Œã†ã€ã¨ã„ã†æ–¹é‡ã‚’ã¨ã‚Šã€
å–å¾—ã—ãŸã‚¹ãƒ¬ãƒƒãƒ‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å±¥æ­´ã‚’ã€ä¼šè©±å±¥æ­´ã¨ã—ã¦ API ã‚’å©ãã€è¿”ç­”ã‚’å–å¾—ã—ã¦ã„ã¾ã™ã€‚

## chatGPT ä»•æ§˜

OpenAI ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚ã°ã ã„ã¶å‹•ã‹ã›ã¾ã—ãŸã€‚

https://platform.openai.com/docs/guides/chat?utm_medium=email&_hsmi=248356722&_hsenc=p2ANqtz-_k5-bc6Aud-31Jabul_tMFEXKbtd1OFhIrRmEi5jZA7Ze2f8hGsiY5u0CIfZl0NGoq1pXXUYnkVBGdM-ViA0f_572Jlg&utm_content=248356722&utm_source=hs_email

ä»¥ä¸‹ã¯è¿”ç­”ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ä¼šè©±å±¥æ­´ã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚

ã“ã®è¨˜äº‹ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã¯ã€ãƒ¦ãƒ¼ã‚¶ã®ä¼šè©±ã‚’`user`ã€bot ã®ä¼šè©±ã‚’`assistant`ã¨ã—ã¦ãƒªã‚¹ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸã€‚

```python
# Note: you need to be using OpenAI Python v0.27.0 for the code below to work
import openai

openai.ChatCompletion.create(
  model="gpt-3.5-turbo",
  messages=[
        {"role": "system", "content": "You are a helpful assistant."},
        {"role": "user", "content": "Who won the world series in 2020?"},
        {"role": "assistant", "content": "The Los Angeles Dodgers won the World Series in 2020."},
        {"role": "user", "content": "Where was it played?"}
    ]
)
```

ä»¥ä¸‹ã¯ OpenAI ã‹ã‚‰ã®è¿”ç­”å†…å®¹ã§ã™ã€‚

ã“ã®è¨˜äº‹ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã¯ã€`choices`ã®`message`ã®`content`ã‚’`\n`ã§çµåˆã—ãŸã‚‚ã®ã‚’è¿”ç­”ã—ã¦ã„ã¾ã™ã€‚

```json
{
    "id": "chatcmpl-6p9XYPYSTTRi0xEviKjjilqrWU2Ve",
    "object": "chat.completion",
    "created": 1677649420,
    "model": "gpt-3.5-turbo",
    "usage": { "prompt_tokens": 56, "completion_tokens": 31, "total_tokens": 87 },
    "choices": [
        {
            "message": {
                "role": "assistant",
                "content": "The 2020 World Series was played in Arlington, Texas at the Globe Life Field, which was the new home stadium for the Texas Rangers."
            },
            "finish_reason": "stop",
            "index": 0
        }
    ]
}
```

---

# ãŠã‚ã‚Šã«

bot ã¨ä¼šè©±ã—ã¦ãŸã‚‰ 1 æ—¥ãŒçµ‚ã‚ã£ãŸ
